<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deal-style Game (Master/Slave)</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.ably.io/lib/ably.min-1.js"></script>
</head>
<body>
  <div class="game-wrap" id="gameWrap">
    <div class="sidebar left">
      <h3>Prizes</h3>
      <ul id="prizeLeft" class="prize-col"></ul>
    </div>

    <div class="main-area">
      <h1 id="title">Choose your personal case</h1>

      <div id="board" class="board" aria-live="polite"></div>

      <div class="player-section">
        <h2>Your Case</h2>
        <div id="playerCase" class="player-case">
          <div class="case-img" role="img" aria-label="Your case image"></div>
          <div class="case-number">?</div>
        </div>
      </div>

      <div id="keepSwitchArea" class="keep-switch-area hidden">
        <div id="ksInstruction">Final choice â€” Keep your case or switch with the remaining case?</div>
        <div class="ks-buttons">
          <button id="keepBtn" class="green">KEEP (K)</button>
          <button id="switchBtn" class="red">SWITCH (S)</button>
        </div>
      </div>

      <div class="controls">
        <button id="resetBtn">RESET</button>
      </div>

      <div id="winText" class="hidden" aria-live="polite"></div>
    </div>

    <div class="sidebar right">
      <h3>&nbsp;</h3>
      <ul id="prizeRight" class="prize-col"></ul>
    </div>
  </div>

  <!-- Dealer overlay (wolfie) -->
  <div id="dealerOverlay" class="dealer-overlay hidden" aria-hidden="true">
    <img id="wolfieImg" src="wolfie_dealer.png" alt="Dealer" />
    <div class="dealer-box" role="dialog" aria-modal="true">
      <div id="offerText" class="offer-text">OFFER: --</div>
      <div id="dealerButtons" class="dealer-buttons">
        <button id="dealBtn" class="deal-btn">DEAL (D)</button>
        <button id="noDealBtn" class="no-deal-btn">NO DEAL (N)</button>
      </div>
    </div>
  </div>

  <!-- Win overlay (wolfie + case + prize) -->
  <div id="winOverlay" class="dealer-overlay hidden" aria-hidden="true">
    <img id="winWolfie" src="wolfie_dealer.png" alt="Dealer" />
    <div class="dealer-box" role="dialog" aria-modal="true">
      <div class="win-panel">
        <div class="win-title">YOU WIN!</div>
        <div class="win-case">
          <div class="win-case-img"></div>
          <div class="win-prize-text"></div>
        </div>
      </div>
      <div class="win-buttons" style="margin-top:14px;">
        <button id="winOkBtn" class="deal-btn">OK</button>
      </div>
    </div>
  </div>

  <!-- APNG animation overlay (positioned dynamically) -->
  <img id="caseAnim" class="hidden" alt="Case animation" />

  <!-- audio elements (preload) -->
  <audio id="bgAudio" src="theme_song.mp3" preload="auto" loop></audio>
  <audio id="dealerAudio" src="dealer_call.mp3" preload="auto"></audio>
  <audio id="biggestAudio" src="biggest_prize.mp3" preload="auto"></audio>
  <audio id="mediumAudio" src="medium_prize.mp3" preload="auto"></audio>
  <audio id="smallAudio" src="small_prize.mp3" preload="auto"></audio>

  <script src="script.js"></script>
</body>
</html>
